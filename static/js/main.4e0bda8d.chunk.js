(this["webpackJsonpreact-themoviedb-api"]=this["webpackJsonpreact-themoviedb-api"]||[]).push([[0],{16:function(e,t){t.isArrNullOrEmpty=function(e){return!e||0===e.length}},57:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a,r,i,o,c,s,l,d,b,u,p,j,g,h,x,f,O,v,m,y,w,A,k,C,I,P,E,F,_,S,M,R,T,L,G,N,z,V,B,U,D=n(1),H=n.n(D),Q=n(25),J=n.n(Q),K=(n(57),n(7)),W=n(6),q=n(14),X=n(11),Z=n.n(X),Y={apiUrl:"https://api.themoviedb.org/3",apiKey:"09032c94c551d095d7178ff7f11b3c16",imgRoot:"https://image.tmdb.org/t/p/w300",writeLogsToLocalStore:!1,starRateCount:5,imagePreviewUrl:"https://react.semantic-ui.com/images/wireframe/image.png"},$=n(28),ee=n.n($),te=Y.apiUrl,ne=Y.apiKey,ae=function(){var e=Object(q.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(q.a)(Z.a.mark((function e(n,a){var r,i,o;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,i=t.page,e.prev=1,e.next=4,ee.a.get("".concat(te,"/search/movie?api_key=").concat(ne,"&query=").concat(r,"&page=").concat(i));case 4:200===(o=e.sent).status?n({movies:o.data.results,totalPages:o.data.total_pages}):a(o.statusText),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),a(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re={getMoviesByCriteria:ae},ie=function(){var e=Object(q.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(q.a)(Z.a.mark((function e(t,n){var a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.a.get("".concat(te,"/genre/movie/list?api_key=").concat(ne));case 3:200===(a=e.sent).status?t(a.data.genres):n(a.statusText),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),n(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe={getGenres:ie},ce=function(){var e=Object(q.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(q.a)(Z.a.mark((function e(n,a){var r,i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.movieId,e.prev=1,e.next=4,ee.a.get("".concat(te,"/movie/").concat(r,"?api_key=").concat(ne));case 4:200===(i=e.sent).status?n(i.data):a(i.statusText),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),a(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se={getMovieById:ce},le=n(16),de=function(e,t){if(Object(le.isArrNullOrEmpty)(e)||Object(le.isArrNullOrEmpty)(t))return[];var n=e.map((function(e){e.poster_path&&(e.poster_path=Y.imgRoot.concat(e.poster_path));var n=e.genre_ids.map((function(e){var n;return null===(n=t.filter((function(t){return t.id===e})))||void 0===n?void 0:n[0].name}));return Object(W.a)(Object(W.a)({},e),{genres:n})}));return Object(W.a)(Object(W.a)({},{headers:[{name:"adult",displayAs:"Adult",visible:!0},{name:"backdrop_path",displayAs:"Backdrop Path",visible:!0},{name:"genre_ids",displayAs:"Genre Ids",visible:!0},{name:"id",displayAs:"Id",visible:!0},{name:"original_language",displayAs:"Original Language",visible:!0},{name:"original_title",displayAs:"Original Title",visible:!0},{name:"overview",displayAs:"Overview",visible:!0},{name:"popularity",displayAs:"Popularity",visible:!0},{name:"poster_path",displayAs:"Poster Path",visible:!0},{name:"release_date",displayAs:"Release Date",visible:!0},{name:"title",displayAs:"Title",visible:!0},{name:"video",displayAs:"Video",visible:!0},{name:"vote_average",displayAs:"Vote Average",visible:!0},{name:"vote_count",displayAs:"Vote Count",visible:!0},{name:"genres",displayAs:"Genres",visible:!0}]}),{dataList:n})},be=n(12),ue=n.n(be),pe=n(3),je=n(4),ge="#b5cc18",he="white",xe=je.b.button(a||(a=Object(pe.a)(["\n  position: relative;\n  background-color: ",";\n  border: none;\n  font-size: 12px;\n  color: #FFFFFF;\n  padding: 5px;\n  width: 100%;\n  max-width:100px;\n  text-align: center;\n  transition-duration: 0.4s;\n  text-decoration: none;\n  overflow: hidden;\n  cursor: pointer;\n"])),(function(e){return e.color})),fe=(je.b.button(r||(r=Object(pe.a)(["\ndisplay: block;\npadding: 5px 5px;\nfont-family: inherit;\nfont-size: 0px;\ncolor: ",";;\nbackground-color:black;\n/* background-color: ","; */\nborder: 1px solid ",";\nbox-shadow: 0 10px 10px rgba(0, 0, 0, 0.08);\ncursor: pointer;\ntransition: all 0.25s cubic-bezier(0.02, 0.01, 0.47, 1);\nopacity: 0.7;\n\n&:hover {\n  box-shadow: 0 15px 15px rgba(0, 0, 0, 0.16);\n  transform: translate(0, -5px);\n  opacity: 1;\n  font-weight:800;\n  font-size:12px;\n}\n"])),(function(e){return e.active?e.color||ge:"white"}),(function(e){return e.active?e.color||ge:"white"}),(function(e){return e.color||ge})),je.b.button(i||(i=Object(pe.a)(["\ndisplay: block;\nwidth: 100%;\nmin-width:100px;\npadding: 12px 20px;\nfont-family: inherit;\nfont-size: 14px;\nfont-weight: 700;\ncolor: ",";\nbackground-color: #e5195f;\nborder: 0;\nborder-radius: 35px;\nbox-shadow: 0 10px 10px rgba(0, 0, 0, 0.08);\ncursor: pointer;\ntransition: all 0.25s cubic-bezier(0.02, 0.01, 0.47, 1);\n\n&:hover {\n  box-shadow: 0 15px 15px rgba(0, 0, 0, 0.16);\n  transform: translate(0, -5px);\n}\n"])),he)),Oe=je.b.span(o||(o=Object(pe.a)([void 0],["\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  transition: 0.5s;\n  &::after{\n    content: '\\00bb';\n    position: absolute;\n    opacity: 0;\n    top: 0;\n    right: -20px;\n    transition: 0.5s;\n  }\n"]))),ve=(je.b.button(c||(c=Object(pe.a)(["\n  display: inline-block;\n  border-radius: 4px;\n  background-color: #f4511e;\n  border: none;\n  color: ",";\n  text-align: center;\n  font-size: 28px;\n  padding: 20px;\n  width: 200px;\n  transition: all 0.5s;\n  cursor: pointer;\n  margin: 5px;\n\n\n",':hover & {\n    color: "red";\n  }\n'])),(function(e){return e.color}),Oe),je.b.button(s||(s=Object(pe.a)(["\n  position: relative;\n  background-color: ",';\n  border: none;\n  font-size: 12px;\n  color: #FFFFFF;\n  padding: 5px;\n  width: 100%;\n  max-width:100px;\n  text-align: center;\n  transition-duration: 0.4s;\n  text-decoration: none;\n  overflow: hidden;\n  cursor: pointer;\n\n\n&:after {\n  content: "";\n  background: #f1f1f1;\n  display: block;\n  position: absolute;\n  padding-top: 300%;\n  padding-left: 350%;\n  margin-left: -20px !important;\n  margin-top: -120%;\n  opacity: 0;\n  transition: all 0.8s\n}\n\n&:active:after {\n  padding: 0;\n  margin: 0;\n  opacity: 1;\n  transition: 0s\n}\n'])),(function(e){return e.color})),{poster_path:"",title:"Title",original_language:"Original Language",release_date:"Release Date",vote_count:"Vote Count",vote_average:"Vote Average",genres:"Genres",adult:"Adult",backdrop_path:"Backdrop Path",genre_ids:"Genre Ids",id:"Id",original_title:"Original Title",overview:"Overview",popularity:"Popularity",video:"Video"}),me={poster_path:!0,release_date:!0,vote_count:!0,vote_average:!1,genres:!1,original_language:!1,title:!1,popularity:!1,adult:!1,backdrop_path:!1,genre_ids:!1,id:!1,original_title:!1,overview:!0,video:!1},ye="favorite",we="watchLater",Ae="searchForMovies",ke="favoriteMovies",Ce="watchLaterMovies",Ie=function(e,t){var n=JSON.parse(window.localStorage.getItem("movies-api"))||{};n[t]=e,window.localStorage.setItem("movies-api",JSON.stringify(n))},Pe=function(){var e=["red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","grey","black"];return e[Math.floor(Math.random()*e.length)]},Ee=je.b.span(l||(l=Object(pe.a)(["\nfilter: brightness(50%);\n&:hover {\n    filter: brightness(100%);\n    transition: 0.8s ease-out 90ms;\n  }\n"]))),Fe=je.b.div(d||(d=Object(pe.a)(["\nposition:relative;\n"]))),_e=je.b.div(b||(b=Object(pe.a)(["\n    position: absolute;\n    display: flex;\n    flex-direction: row;\n    justify-content:start;\n"]))),Se=(Object(je.b)(_e)(u||(u=Object(pe.a)(["\n    bottom: 3px;\n    left: 0px;\n"]))),Object(je.b)(_e)(p||(p=Object(pe.a)(["\n    bottom: 3px;\n    right: 0px;\n"])))),Me=Object(je.b)(_e)(j||(j=Object(pe.a)(["\n    top: 1px;\n    left: 0px;\n"]))),Re=Object(je.b)(_e)(g||(g=Object(pe.a)(["\n    top: 1px;\n    right: 0px;\n"]))),Te=je.b.img(h||(h=Object(pe.a)(["\n    src: ",";\n    width: 100%;\n    max-width: 300px;\n    height: auto;\n"])),(function(e){return e.src})),Le=je.b.table(x||(x=Object(pe.a)(["\nwidth: 100%;\nbackground: -webkit-linear-gradient(to right, #38ef7d, #11998e); background: #00F260; \nbackground: -webkit-linear-gradient(to right, #0575E6, #00F260);  \nbackground: linear-gradient(to right, #0575E6, #00F260); \n\n/** striped styles : */\n\n/* tbody tr:nth-child(odd) {\nbackground: -webkit-linear-gradient(to right, #38ef7d, #11998e); background: #00F260; \nbackground: -webkit-linear-gradient(to right, #0575E6, #00F260);  \nbackground: linear-gradient(to right, #0575E6, #00F260); \n\n}\n\ntbody tr:nth-child(even) {\nbackground: -webkit-linear-gradient(to left, #0575E6, #00F260);  \nbackground: linear-gradient(to left, #0575E6, #00F260); \n\n} */\n\n"]))),Ge=n(21),Ne=n(2),ze=function(e){var t=e.defaultActivePage,n=e.totalPages,a=e.handlePaginationChange,r={pageIndex:t,disabled:{firstPage:!0,prevPage:!0,nextPage:!1,lastPage:!1}},i=Object(D.useReducer)((function(e,t){switch(t.type){case"GO_TO_PAGE":switch(a({activePage:t.pageIndex}),window.scrollTo(0,0),t.pageIndex){case 1:return Object(W.a)(Object(W.a)({},e),{},{pageIndex:t.pageIndex,disabled:Object(W.a)({},{prevPage:!0,firstPage:!0,nextPage:!1,lastPage:!1})});case n:return Object(W.a)(Object(W.a)({},e),{},{pageIndex:t.pageIndex,disabled:Object(W.a)({},{prevPage:!1,firstPage:!1,nextPage:!0,lastPage:!0})});default:return Object(W.a)(Object(W.a)({},e),{},{pageIndex:t.pageIndex,disabled:Object(W.a)({},{prevPage:!1,firstPage:!1,nextPage:!1,lastPage:!1})})}case"SET_PAGE":return Object(W.a)(Object(W.a)({},e),{},{pageIndex:t.pageIndex});default:throw new Error("Something went wrong...")}}),r),o=Object(K.a)(i,2),c=o[0],s=o[1],l=c.pageIndex,d=c.disabled;return Object(Ne.jsxs)("div",{className:"pagination",children:[Object(Ne.jsx)("button",{onClick:function(){return s({type:"GO_TO_PAGE",pageIndex:1})},disabled:d.firstPage,children:Object(Ne.jsx)(Ge.a,{})})," ",Object(Ne.jsx)("button",{onClick:function(){return s({type:"GO_TO_PAGE",pageIndex:l-1})},disabled:d.prevPage,children:Object(Ne.jsx)(Ge.c,{})})," ",Object(Ne.jsx)("button",{onClick:function(){return s({type:"GO_TO_PAGE",pageIndex:l+1})},disabled:d.nextPage,children:Object(Ne.jsx)(Ge.d,{})})," ",Object(Ne.jsx)("button",{onClick:function(){return s({type:"GO_TO_PAGE",pageIndex:n})},disabled:d.lastPage,children:Object(Ne.jsx)(Ge.b,{})})," ",Object(Ne.jsxs)("span",{children:["Page"," ",Object(Ne.jsxs)("strong",{children:[l," of ",n]})," "]}),Object(Ne.jsxs)("span",{children:["| Go to page:"," ",Object(Ne.jsx)("input",{type:"number",defaultValue:l,onChange:function(e){var t=e.target.value?Number(e.target.value):1;s({type:"SET_PAGE",pageIndex:t})},style:{width:"100px"}}),Object(Ne.jsx)(xe,{color:ge,onClick:function(){s({type:"GO_TO_PAGE",pageIndex:l})},children:" GO  "})]})]})},Ve=je.b.div(f||(f=Object(pe.a)(["\ndisplay: flex;\nflex-direction: row;\nflex-wrap:wrap;\njustify-content:  ","\n/* justify-content: center;\nalign-items:center; */\n"])),(function(e){return e.justifyContent})),Be=je.b.div(O||(O=Object(pe.a)(["\n  flex: 25%;\n  max-width: ",";\n  padding: 4px 4px;\n"])),(function(e){return e.width||"100%"})),Ue=je.b.div(v||(v=Object(pe.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 4px 4px;\n"]))),De=je.b.div(m||(m=Object(pe.a)(["\ndisplay: block;\npadding: 2px 10px;\nfont-family: inherit;\nfont-size: 0.8em;\ncolor: yellowgreen;\nbackground-color:black;\nborder: 1px solid ",";\nbox-shadow: 0 10px 10px rgba(0, 0, 0, 0.08);\ncursor: pointer;\ntransition: all 0.25s cubic-bezier(0.02, 0.01, 0.47, 1);\nopacity: 0.7;\n\n&:hover {\n  box-shadow: 0 15px 15px rgba(0, 0, 0, 0.16);\n  transform: translate(0, -5px);\n  font-weight:800;\n  font-size:14px;\n  text-decoration:underline;\n  opacity: 1;\n}\n"])),(function(e){return e.color||ge})),He=function(e){var t=e.onClick,n=e.id,a=e.ids,r=e.type,i=e.handleClick;je.b.button(y||(y=Object(pe.a)(["\n        display: block;\n        padding: 5px 5px;\n        font-family: inherit;\n        font-size: 0px;\n        color: ",";;\n        background-color:black;\n        /* background-color: ","; */\n        border: 1px solid ",";\n        box-shadow: 0 10px 10px rgba(0, 0, 0, 0.08);\n        cursor: pointer;\n        transition: all 0.25s cubic-bezier(0.02, 0.01, 0.47, 1);\n        opacity: 0.7;\n\n        &:hover {\n        box-shadow: 0 15px 15px rgba(0, 0, 0, 0.16);\n        transform: translate(0, -5px);\n        opacity: 1;\n        font-weight:800;\n        font-size:12px;\n        }\n        "])),(function(e){return e.active?e.color||ge:"white"}),(function(e){return e.active?e.color||ge:"white"}),(function(e){return e.color||ge}));return Object(Ne.jsx)("button",{onClick:function(){t();var e=function(e,t){if(!e)return-1;var n=e.findIndex((function(e){return e===t}));return-1===n?e.push(t):e.splice(n,1),e}(a,n);i(e),Ie(e,r)},style:{display:"block",padding:"5px 5px",fontFamily:"inherit",fontSize:"0px"}})},Qe=function(e){var t=e.tableData,n=e.handlePaginationChange,a=e.totalPages,r=Object(D.useState)({favIds:[],watchLaterIds:[]}),i=Object(K.a)(r,2),o=i[0],c=i[1],s=t.headers,l=t.dataList;Object(D.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("movies-api"));return e&&(o.favIds=e[ye],o.watchLaterIds=e[we]),c(Object(W.a)(Object(W.a)(Object(W.a)({},o),{favIds:o.favIds}),{watchLaterIds:o.watchLaterIds})),function(){}}),[]);var d=Object(D.useRef)(Object(Ne.jsx)(Ne.Fragment,{})),b=Object(D.useRef)(Object(Ne.jsx)(Ne.Fragment,{}));Object(D.useRef)(Object(Ne.jsx)(Ne.Fragment,{}));if(Object(le.isArrNullOrEmpty)(l)||Object(le.isArrNullOrEmpty)(s))return Object(Ne.jsx)(Ne.Fragment,{children:"  "});var u=Object.keys(me),p=u.filter((function(e){return me[e]})).map((function(e){return me[e]&&Object(Ne.jsxs)("th",{children:[" ",ve[e]," "]},ue.a.generate())})),j=[],g=function(e,t){e===we?c(Object(W.a)(Object(W.a)({},o),{watchLaterIds:t})):e===ye&&c(Object(W.a)(Object(W.a)({},o),{favIds:t}))};return l.forEach((function(e){j.push(Object(Ne.jsx)("tr",{children:u.map((function(t){var n,a="";switch(t){case"genres":d.current=null===(n=e[t])||void 0===n?void 0:n.map((function(e){return Object(Ne.jsx)(De,{children:e})}));break;case"vote_average":b.current=Object(Ne.jsxs)(Ne.Fragment,{children:[" ","".concat(e[t],"/10")," "]});break;case"poster_path":a=e[t]?Object(Ne.jsx)(Ee,{children:Object(Ne.jsxs)(Fe,{children:[Object(Ne.jsx)(Te,{src:e[t],size:"small",rounded:!0,alt:"movie_poster"}),Object(Ne.jsx)(Me,{children:d.current}),Object(Ne.jsxs)(Se,{children:[Object(Ne.jsx)(He,{type:ye,id:e.id,ids:o.favIds,handleClick:function(e){return g(ye,e)}}),Object(Ne.jsx)(He,{type:we,id:e.id,ids:o.watchLaterIds,handleClick:function(e){return g(we,e)}})]}),Object(Ne.jsx)(Re,{children:Object(Ne.jsxs)(De,{children:[" ",b.current]})})]})}):Object(Ne.jsx)(Te,{src:Y.imagePreviewUrl,size:"small",rounded:!0,alt:"movie_poster"});break;case"genre_ids":default:break;case"overview":a=e[t]}return Object(Ne.jsxs)("td",{children:[" ",a," "]},ue.a.generate())}))},ue.a.generate()))})),t&&0!==t.length?Object(Ne.jsxs)("div",{style:{overflowX:"auto"},children:[Object(Ne.jsxs)(Le,{children:[Object(Ne.jsx)("thead",{children:Object(Ne.jsx)("tr",{children:p})}),Object(Ne.jsx)("tbody",{children:j})]}),Object(Ne.jsx)(ze,{defaultActivePage:1,totalPages:a,handlePaginationChange:n})]}):"Loading"},Je=je.b.input(w||(w=Object(pe.a)(["\n  background-image: url(",");\n  width: 100%;\n  box-sizing: border-box;\n  border: 2px solid #ccc;\n  border-radius: 4px;\n  font-size: 16px;\n  background-color: white;\n  background-position: 10px 10px; \n  background-repeat: no-repeat;\n  padding: 12px 20px 12px 40px;\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAACYktHRAD/h4/MvwAAAAl2cEFnAAABKgAAASkAUBZlMQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNC0xMFQwNjo1OTowNy0wNzowMI5BiVEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDQtMTBUMDY6NTk6MDctMDc6MDD/HDHtAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAABF0RVh0VGl0bGUAc2VhcmNoLWljb27Cg+x9AAACKklEQVQ4T6WUSavqQBCFK+2sII7gShFXLpUsBBHFf+1KcAQFwaWiolsnnBDn++4p0iHRqPDuByFJd/Wp6qrqVn5+IQP3+52m0ymtVis6Ho885na7KRgMUiKR4O9vmEQHgwGNx2NyOp0khCBFUXgcJo/Hg67XK8ViMcpkMjz+Dl200+nQZrMhh8PBE4gYQgDidrudvzEOm2KxyP9WsCginM1mHKEUS6VSFA6HOWI4G41GPAfx2+1GgUCAVFXVZMwovwY/lUqFPB4PiyFn+XxemzbT6/VovV6z8Ol0olwux+LPCBQFEQKIvhME2WyWbWGHFCD/VghUGVvE1rDlb6TTabbFmuVyqY2aEWgbFALeI5GINvyeUCjEtlgju+IZoRWfkS30CURoxFJUNjMEt9stf38CNjJKIFvNiMBJgTebzcZt843hcMhCELWqPBDxeJwulwtvC/3X7/e1qVfgFD0rC5tMJrUZM8Lr9VI0GmVBRDCfz6nZbHI/Sna7HXW7XZpMJtxSiBIP1lmhH9NqtaqfGKQDTmQREBnSgwfmMqfYYblc1o+2xHShtNttLgSiee4EmMEp3hDBPJzikimVSuRyuTTLJ1GwWCz4pCB3UhiL/X4/Hw50C5zjLSM+n898weCogxdRIzAGxigAdtNqtV6EC4UC+Xy+z6Kf2O/31Gg0TMK4ZBDxf4uCw+FA9XpdF0aaUOg/iQLcHbVaTb/p0Cl/FgXIJ/oYnaCqKv0DC6dltH6Ks84AAAAASUVORK5CYII="),Ke=function(){var e={loading:!1,results:[],value:"",genres:[],totalPages:1},t=Object(D.useReducer)((function(t,n){switch(n.type){case"CLEAN_QUERY":return e;case"START_SEARCH":return Object(W.a)(Object(W.a)({},t),{},{loading:!0,value:n.query});case"FINISH_SEARCH":return Object(W.a)(Object(W.a)({},t),{},{loading:!1,results:n.results,totalPages:n.totalPages});case"UPDATE_SELECTION":return Object(W.a)(Object(W.a)({},t),{},{value:n.selection});case"SET_GENRES":return Object(W.a)(Object(W.a)({},t),{},{genres:n.genres});default:throw new Error("Something went wrong...")}}),e),n=Object(K.a)(t,2),a=n[0],r=n[1],i=(a.loading,a.results,a.value,a.genres,H.a.useCallback((function(e){r({type:"START_SEARCH",query:e.target.value})}),[]));return Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsxs)(Ue,{justifyContent:"space-evenly",children:[Object(Ne.jsx)(Be,{width:"50%",children:Object(Ne.jsx)(Je,{placeholder:"Search...",onChange:i})}),Object(Ne.jsx)(Be,{width:"20%",children:Object(Ne.jsx)(fe,{onClick:function(e){if(0!==a.value){oe.getGenres().then((function(e){r({type:"SET_GENRES",genres:e})}));var t={query:a.value,page:1};re.getMoviesByCriteria(t).then((function(e){var t=e.movies,n=e.totalPages;r({type:"FINISH_SEARCH",results:t,totalPages:n})})).catch((function(e){}))}else r({type:"CLEAN_QUERY"})},children:"Search"})})]}),Object(Ne.jsx)(Ue,{children:Object(Ne.jsx)(Qe,{tableData:de(a.results,a.genres),handlePaginationChange:function(e){var t=e.activePage,n={query:a.value,page:t};re.getMoviesByCriteria(n).then((function(e){var t=e.movies,n=e.totalPages;r({type:"FINISH_SEARCH",results:t,totalPages:n})})).catch((function(e){}))},totalPages:a.totalPages})})]})},We=n(13),qe=n(5),Xe=je.b.a(A||(A=Object(pe.a)(["\ncursor:pointer;\nline-height:2;\n\n&:hover {\n    opacity: 1;\n    color:rgba(0,0,0,.85);\n    transition:opacity .1s ease;\n  }\n  \n","  \n\n"])),(function(e){return e.active&&Object(je.a)(k||(k=Object(pe.a)(["\n            font-weight: 700;\n            color:rgba(0,0,0,.95);\n            "])))})),Ze=function(){var e=Object(D.useState)("searchForMovies"),t=Object(K.a)(e,2),n=t[0],a=t[1],r=Object(qe.f)(),i=function(e){a(e.target.name),r("/".concat(e.target.name))};return Object(Ne.jsxs)(Be,{vertical:!0,width:"100%",children:[Object(Ne.jsx)(Ue,{children:Object(Ne.jsx)("h4",{children:"Movies"})}),Object(Ne.jsx)(Ue,{children:Object(Ne.jsx)(Xe,{name:Ae,onClick:i,active:n===Ae,children:" Search for movies "})}),Object(Ne.jsx)("hr",{}),Object(Ne.jsx)(Ue,{children:Object(Ne.jsx)("h4",{children:" My lists "})}),Object(Ne.jsx)(Ue,{children:Object(Ne.jsx)(Xe,{name:ke,onClick:i,active:n===ke,children:" Favorite "})}),Object(Ne.jsx)(Ue,{children:Object(Ne.jsx)(Xe,{name:Ce,onClick:i,active:n===Ce,children:" Watch Later "})})]})},Ye=n(20),$e=n(27),et=Object($e.b)({name:"listManager",initialState:{listIds:{favorite:[],watchLater:[]},listMovies:{favorite:[],watchLater:[]}},reducers:{addToList:function(e,t){var n=t.payload,a=n.type,r=n.ids;e.listIds[a].push(r),e.listIds[a]=e.listIds[a].flat()},removeFromList:function(e,t){var n=t.payload,a=n.type,r=n.id,i=e.listIds[a],o=i.findIndex((function(e){return e===r}));i.splice(o,1),Ie(i,a)},setMoviesList:function(e,t){var n=t.payload,a=n.type,r=n.movies;e.listMovies[a]=[],e.listMovies[a].push(r),e.listMovies[a]=e.listMovies[a].flat()}}}),tt=et.actions,nt=tt.addToList,at=tt.removeFromList,rt=tt.setMoviesList,it=et.reducer,ot=n(31),ct=je.b.div(C||(C=Object(pe.a)(["\n  overflow: hidden;\n  padding: 0 0 32px;\n  margin: 48px auto 0;\n  width: 300px;\n  font-family: Quicksand, arial, sans-serif;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.05), 0 0px 40px rgba(0, 0, 0, 0.08);\n  border-radius: 5px;\n"]))),st=je.b.header(I||(I=Object(pe.a)(["\nborder-bottom: 1px solid ","\n"])),ge),lt=(je.b.h1(P||(P=Object(pe.a)(["\n  font-size: 24px;\n  font-weight: bold;\n  text-align: center;\n"]))),je.b.div(E||(E=Object(pe.a)(["\n  padding-right: 32px;\n  padding-left: 32px;\n"])))),dt=je.b.div(F||(F=Object(pe.a)(["\n  font-size: 12px;\n  font-weight: 300;\n  text-align: left;\n  text-decoration:italic;\n"]))),bt=(je.b.span(_||(_=Object(pe.a)(["\n  color: #666;\n  cursor: pointer;\n  opacity: .25;\n  transition: opacity .25s ease-in;\n\n  &:hover {\n    opacity: .95;\n  }\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return e.big&&Object(je.a)(S||(S=Object(pe.a)(["\n      font-size: 26px;\n    "])))}),(function(e){return e.eye&&Object(je.a)(M||(M=Object(pe.a)(["\n      position: absolute;\n      top: 8px;\n      right: 0;\n    "])))}),(function(e){return e.small&&Object(je.a)(R||(R=Object(pe.a)(["\n      font-size: 14px;\n    "])))})),je.b.small(T||(T=Object(pe.a)(["\n  padding-top: 8px;\n  display: block;\n  width: 100%;\n  font-size: 12px;\n  text-align: center;\n  text-transform: uppercase;\n"]))),je.b.ul(L||(L=Object(pe.a)(["\n  padding: 0;\n  margin: 16px 0 8px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  list-style-type: none;\n"])))),ut=je.b.li(G||(G=Object(pe.a)(["\n  &:nth-of-type(n + 2) {\n    margin-left: 16px;\n  }\n"]))),pt=(je.b.span(N||(N=Object(pe.a)(["\n  color: #666;\n  cursor: pointer;\n  opacity: .25;\n  transition: opacity .25s ease-in;\n\n  &:hover {\n    opacity: .95;\n  }\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return e.big&&Object(je.a)(z||(z=Object(pe.a)(["\n      font-size: 26px;\n    "])))}),(function(e){return e.eye&&Object(je.a)(V||(V=Object(pe.a)(["\n      position: absolute;\n      top: 8px;\n      right: 0;\n    "])))}),(function(e){return e.small&&Object(je.a)(B||(B=Object(pe.a)(["\n      font-size: 14px;\n    "])))})),n(29)),jt=n(19),gt=je.b.div(U||(U=Object(pe.a)(["\ncursor: pointer;\n&:hover {\n    cursor: pointer;\n  box-shadow: 0 15px 15px rgba(0, 0, 0, 0.16);\n  transform: translate(0, -1px);\n}\n"]))),ht=function(e){var t=e.value,n=e.maxValue,a=e.voteCount,r=t*Y.starRateCount/n,i=Object(D.useState)([]),o=Object(K.a)(i,2),c=o[0],s=o[1];return Object(D.useEffect)((function(){for(var e=Math.ceil(r),t=1;t<=e;t++)r>=t?c.push(Object(Ne.jsx)(jt.b,{color:ge},ue.a.generate())):c.push(Object(Ne.jsx)(jt.c,{color:ge},ue.a.generate())),s(Object(pt.a)(c));if(c.length<Y.starRateCount){var n=Object(pt.a)(Array(Y.starRateCount-c.length)).map((function(e){return Object(Ne.jsx)(jt.a,{color:ge},ue.a.generate())}));c.push(n),s(Object(pt.a)(c))}return function(){console.log("cleanup1"),console.log("cleanup2")}}),[t]),Object(Ne.jsxs)(gt,{children:[c,"".concat(t,"/").concat(a," votes")]})},xt=function(e){var t=e.dataList;return Object(Ne.jsx)("div",{children:t.map((function(e){return Object(Ne.jsx)(De,{tag:!0,color:Pe(),children:e},ue.a.generate())}))})},ft=function(e){var t=e.movies,n=e.handleRemoveFromList;return Object(Ne.jsx)(Ve,{children:null===t||void 0===t?void 0:t.map((function(e){var t;return Object(Ne.jsxs)(ct,{children:[Object(Ne.jsx)(st,{children:Object(Ne.jsx)(Ee,{children:Object(Ne.jsx)("img",{src:Y.imgRoot.concat(e.poster_path),alt:"img_poster"})})}),Object(Ne.jsx)(dt,{children:Object(Ne.jsxs)("span",{className:"date",children:["Released : ",e.release_date]})}),Object(Ne.jsx)(lt,{children:Object(Ne.jsx)(xt,{dataList:null===(t=e.genres)||void 0===t?void 0:t.map((function(e){return e.name}))})}),Object(Ne.jsxs)(bt,{children:[Object(Ne.jsx)(ut,{children:Object(Ne.jsx)("a",{children:Object(Ne.jsx)(ht,{value:e.vote_average,voteCount:e.vote_count,maxValue:10})})}),Object(Ne.jsx)(ut,{children:Object(Ne.jsxs)(fe,{onClick:function(){return n(e.id)},children:["Remove ",Object(Ne.jsx)(ot.a,{})]})})]})]},ue.a.generate())}))})},Ot=function(e){var t=e.type,n=Object(Ye.b)(),a=Object(Ye.c)((function(e){return e.listManager.listMovies}));return Object(D.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("movies-api")),a=null===e||void 0===e?void 0:e[t];n(nt({type:t,ids:a}));var r=null===a||void 0===a?void 0:a.map((function(e){return se.getMovieById({movieId:e})}));Promise.all(r).then((function(e){n(rt({type:t,movies:e}))})).catch((function(e){console.error(e)}))}),[t]),0===a[t].length?"Nothing in that list":Object(Ne.jsx)(ft,{movies:a[t],handleRemoveFromList:function(e){n(at({type:t,id:e}));var r=a[t].filter((function(t){return t.id!==e}));n(rt({type:t,movies:r}))}})},vt=n(47),mt=n(48),yt=n(51),wt=n(50),At=n(32),kt=n.n(At);kt.a.enableAll();var Ct=function(e){Object(yt.a)(n,e);var t=Object(wt.a)(n);function n(e){var a;return Object(vt.a)(this,n),(a=t.call(this,e)).state={hasError:!1,redirect:!1},a}return Object(mt.a)(n,[{key:"componentDidCatch",value:function(e,t){if(kt.a.error({error:e,info:t}),Y.writeLogsToLocalStore){var n=JSON.parse()||{},a=Date.now();n[new Date(a).toISOString()]={pathname:window.location.href,error:e,info:t},localStorage.setItem("netigmaReactErrors",JSON.stringify(n))}else console.log({error:e,info:t}),sessionStorage.setItem("netigmaReactErrors",JSON.stringify({pathname:window.location.href,error:e,info:t}));window.location.pathname="/error",this.setState({hasError:!0})}},{key:"componentDidUpdate",value:function(){var e=this;this.state.hasError&&setTimeout((function(){return e.setState({redirect:!0})}),5e3)}},{key:"render",value:function(){return this.state.redirect?Object(Ne.jsx)(We.b,{to:"/error"}):this.state.hasError?Object(Ne.jsxs)("div",{placeholder:!0,children:[Object(Ne.jsx)("h1",{children:"There are some problems with your operations."}),Object(Ne.jsx)("h3",{children:Object(Ne.jsx)(We.b,{to:"/",children:"BACK TO HOME"})})]}):this.props.children}}]),n}(D.Component);var It=function(){return Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsx)(We.a,{children:Object(Ne.jsx)(Ct,{children:Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsxs)(Ue,{children:[Object(Ne.jsx)(Be,{width:"25%",children:Object(Ne.jsx)(Ze,{})}),Object(Ne.jsx)(Be,{width:"75%",children:Object(Ne.jsx)("div",{children:Object(Ne.jsxs)(qe.c,{children:[Object(Ne.jsx)(qe.a,{exact:!0,path:"/",element:Object(Ne.jsx)(Ke,{})}),Object(Ne.jsx)(qe.a,{path:"/searchForMovies",element:Object(Ne.jsx)(Ke,{})}),Object(Ne.jsx)(qe.a,{exact:!0,path:"/favoriteMovies",element:Object(Ne.jsx)(Ot,{type:ye})}),Object(Ne.jsx)(qe.a,{exact:!0,path:"/watchLaterMovies",element:Object(Ne.jsx)(Ot,{type:we})}),Object(Ne.jsx)(qe.a,{path:"*",element:Object(Ne.jsx)("main",{style:{padding:"1rem"},children:Object(Ne.jsx)("p",{children:"There's nothing here!"})})})]})})})]})})})})})},Pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,89)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))},Et=Object($e.a)({reducer:{listManager:it}});J.a.render(Object(Ne.jsx)(H.a.StrictMode,{children:Object(Ne.jsx)(Ye.a,{store:Et,children:Object(Ne.jsx)(It,{})})}),document.getElementById("root")),Pt()}},[[87,1,2]]]);
//# sourceMappingURL=main.4e0bda8d.chunk.js.map